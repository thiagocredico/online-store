{"ast":null,"code":"var _jsxFileName = \"/home/thiago/projetos-trybe/sd-029-a-project-frontend-online-store/src/pages/Home.jsx\";\nimport React, { Component } from 'react';\n// import ButtonCart from '../components/ButtonCart';\nimport Header from '../components/Header';\nimport Card from '../components/Card';\nimport ListCategories from '../components/ListCategories';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Home extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      inputRadio: '',\n      products: [],\n      inputValue: '',\n      search: '',\n      clickBtn: false\n    };\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, () => {\n        if (name === 'inputRadio') {\n          this.handleInputRadio();\n        }\n      });\n    };\n    this.handleGetProducts = async () => {\n      const {\n        inputValue,\n        inputRadio\n      } = this.state;\n      this.setState({\n        search: inputValue\n      });\n      const getProducts = await getProductsFromCategoryAndQuery(inputRadio, inputValue);\n      this.setState({\n        products: getProducts.results,\n        inputValue: ''\n      });\n    };\n    this.handleInputRadio = async () => {\n      const {\n        search,\n        inputRadio\n      } = this.state;\n      const getProducts = await getProductsFromCategoryAndQuery(inputRadio, search);\n      this.setState({\n        products: getProducts.results\n      });\n    };\n  }\n  render() {\n    const {\n      products,\n      inputRadio,\n      inputValue,\n      clickBtn\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(ListCategories, {\n          inputRadio: inputRadio,\n          handleChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            \"data-testid\": \"query-input\",\n            value: inputValue,\n            name: \"inputValue\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"data-testid\": \"query-button\",\n            onClick: this.handleGetProducts,\n            children: \"Pesquisar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), !clickBtn && /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"home-initial-message\",\n          children: \"Digite algum termo de pesquisa ou escolha uma categoria.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          products: products\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}","map":{"version":3,"names":["React","Component","Header","Card","ListCategories","getProductsFromCategoryAndQuery","Home","state","inputRadio","products","inputValue","search","clickBtn","handleChange","target","name","value","setState","handleInputRadio","handleGetProducts","getProducts","results","render"],"sources":["/home/thiago/projetos-trybe/sd-029-a-project-frontend-online-store/src/pages/Home.jsx"],"sourcesContent":["import React, { Component } from 'react';\n// import ButtonCart from '../components/ButtonCart';\nimport Header from '../components/Header';\nimport Card from '../components/Card';\nimport ListCategories from '../components/ListCategories';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\n\nexport default class Home extends Component {\n  state = {\n    inputRadio: '',\n    products: [],\n    inputValue: '',\n    search: '',\n    clickBtn: false,\n  };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value }, () => {\n      if (name === 'inputRadio') {\n        this.handleInputRadio();\n      }\n    });\n  };\n\n  handleGetProducts = async () => {\n    const { inputValue, inputRadio } = this.state;\n    this.setState({ search: inputValue });\n    const getProducts = await getProductsFromCategoryAndQuery(inputRadio, inputValue);\n    this.setState({\n      products: getProducts.results,\n      inputValue: '',\n    });\n  };\n\n  handleInputRadio = async () => {\n    const { search, inputRadio } = this.state;\n    const getProducts = await getProductsFromCategoryAndQuery(inputRadio, search);\n    this.setState({ products: getProducts.results });\n  };\n\n  render() {\n    const { products, inputRadio, inputValue, clickBtn } = this.state;\n    return (\n      <>\n        <Header />\n        <section>\n          <ListCategories inputRadio={ inputRadio } handleChange={ this.handleChange } />\n          {/* <ButtonCart /> */}\n          <div>\n            <input\n              data-testid=\"query-input\"\n              value={ inputValue }\n              name=\"inputValue\"\n              onChange={ this.handleChange }\n            />\n            <button\n              type=\"button\"\n              data-testid=\"query-button\"\n              onClick={ this.handleGetProducts }\n            >\n              Pesquisar\n            </button>\n          </div>\n          {!clickBtn\n         && (\n           <p\n             data-testid=\"home-initial-message\"\n           >\n             Digite algum termo de pesquisa ou escolha uma categoria.\n           </p>) }\n          <Card products={ products } />\n        </section>\n      </>\n    );\n  }\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC;AACA,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,cAAc,MAAM,8BAA8B;AACzD,SAASC,+BAA+B,QAAQ,iBAAiB;AAAC;AAAA;AAElE,eAAe,MAAMC,IAAI,SAASL,SAAS,CAAC;EAAA;IAAA;IAAA,KAC1CM,KAAK,GAAG;MACNC,UAAU,EAAE,EAAE;MACdC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,EAAE;MACdC,MAAM,EAAE,EAAE;MACVC,QAAQ,EAAE;IACZ,CAAC;IAAA,KAEDC,YAAY,GAAG,QAAgB;MAAA,IAAf;QAAEC;MAAO,CAAC;MACxB,MAAM;QAAEC,IAAI;QAAEC;MAAM,CAAC,GAAGF,MAAM;MAC9B,IAAI,CAACG,QAAQ,CAAC;QAAE,CAACF,IAAI,GAAGC;MAAM,CAAC,EAAE,MAAM;QACrC,IAAID,IAAI,KAAK,YAAY,EAAE;UACzB,IAAI,CAACG,gBAAgB,EAAE;QACzB;MACF,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDC,iBAAiB,GAAG,YAAY;MAC9B,MAAM;QAAET,UAAU;QAAEF;MAAW,CAAC,GAAG,IAAI,CAACD,KAAK;MAC7C,IAAI,CAACU,QAAQ,CAAC;QAAEN,MAAM,EAAED;MAAW,CAAC,CAAC;MACrC,MAAMU,WAAW,GAAG,MAAMf,+BAA+B,CAACG,UAAU,EAAEE,UAAU,CAAC;MACjF,IAAI,CAACO,QAAQ,CAAC;QACZR,QAAQ,EAAEW,WAAW,CAACC,OAAO;QAC7BX,UAAU,EAAE;MACd,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDQ,gBAAgB,GAAG,YAAY;MAC7B,MAAM;QAAEP,MAAM;QAAEH;MAAW,CAAC,GAAG,IAAI,CAACD,KAAK;MACzC,MAAMa,WAAW,GAAG,MAAMf,+BAA+B,CAACG,UAAU,EAAEG,MAAM,CAAC;MAC7E,IAAI,CAACM,QAAQ,CAAC;QAAER,QAAQ,EAAEW,WAAW,CAACC;MAAQ,CAAC,CAAC;IAClD,CAAC;EAAA;EAEDC,MAAM,GAAG;IACP,MAAM;MAAEb,QAAQ;MAAED,UAAU;MAAEE,UAAU;MAAEE;IAAS,CAAC,GAAG,IAAI,CAACL,KAAK;IACjE,oBACE;MAAA,wBACE,QAAC,MAAM;QAAA;QAAA;QAAA;MAAA,QAAG,eACV;QAAA,wBACE,QAAC,cAAc;UAAC,UAAU,EAAGC,UAAY;UAAC,YAAY,EAAG,IAAI,CAACK;QAAc;UAAA;UAAA;UAAA;QAAA,QAAG,eAE/E;UAAA,wBACE;YACE,eAAY,aAAa;YACzB,KAAK,EAAGH,UAAY;YACpB,IAAI,EAAC,YAAY;YACjB,QAAQ,EAAG,IAAI,CAACG;UAAc;YAAA;YAAA;YAAA;UAAA,QAC9B,eACF;YACE,IAAI,EAAC,QAAQ;YACb,eAAY,cAAc;YAC1B,OAAO,EAAG,IAAI,CAACM,iBAAmB;YAAA,UACnC;UAED;YAAA;YAAA;YAAA;UAAA,QAAS;QAAA;UAAA;UAAA;UAAA;QAAA,QACL,EACL,CAACP,QAAQ,iBAET;UACE,eAAY,sBAAsB;UAAA,UACnC;QAED;UAAA;UAAA;UAAA;QAAA,QAAK,eACN,QAAC,IAAI;UAAC,QAAQ,EAAGH;QAAU;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QACtB;IAAA,gBACT;EAEP;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}